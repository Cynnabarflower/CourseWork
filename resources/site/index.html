<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
    <title>CW</title>
    <meta name="description" content="">
    <link rel="stylesheet" href="style.min.css">
    <script src="phaser.min.js"></script>
    <script src="piklor.min.js"></script>
</head>
<body>

    <div class="tabs">
        <input id="tab1" type="radio" name="tabs" checked>
        <label for="tab1" title="Expressions">Expressions</label>

        <input id="tab2" type="radio" name="tabs">
        <label for="tab2" title="Settings & Docs">Settings & Docs</label>
        <section id="content-tab1">
                        <table width="100vh" cellspacing="5" cellpadding="5" style=" valign = 'top'; display: inline-block;">
                            <tr>
                                <td style='width="500px" valign="top" min-width="300px"; margin = 20px'>
                                    <div id="spinner"></div>
                                    <expressions id="expressions"></expressions>

                                    <div style="height:3em; position: absolute; margin: 5px" ><input type="image" id="updateAllExpressions" value="update" onclick="updateAllExpressions()" src="refresh.png" style="height:100%">
                                        <input type="image"  id="addExpression" value="+" onclick="addExpression()" src="plus.png" style="height:100%">
                                    </div>

                                </td>
                                <td id='vars_place' style='width="200px" valign="top"'>
                                </td>
                                <td style='width="500px" valign="top"'>

                                    <div id="graph_place"></div>
                                    <div><input id='zoomRange' type='range' min=-1 max=150 step=5 width='inherit'
                                                value=-1 oninput="cellSizeChanged(this)"> <input type="submit"
                                                                                                 id="reloadPhaser"
                                                                                                 value="reload"
                                                                                                 onclick="reload()">
                                    </div>
                                </td>
                            </tr>
                        </table>
        </section>
        <section id="content-tab2">
                        <h2>Default expressions:</h2>
                        <textarea id='defaultExpressions' style="width: 100vh; height: 100px" name="FindString" value=""
                                  size=100%></textarea>
                        <div>x [<input type="number" size="8" id="fromX" style='font-size: 16px'>;<input type="number"
                                                                                                         size="8"
                                                                                                         id="toX"
                                                                                                         style='font-size: 16px'>]
                        </div>
                        <div>precision: <input type="number" size="8" id="precision" style='font-size: 16px'> (number of
                            element series)
                        </div>
                        <input type="submit" id="saveSettings" value="Save" onclick="saveSettings()">
                        <input type="submit" id="getSettings" value="Load" onclick="getSettings()">
                        <input type="submit" id="getDefaultSettings" value="Default" onclick="getDefaultSettings()">
                        <h3>Docs</h3>
                        <p>Для вычисления выражения введите его в поле и нажмите enter.<br>
                            Поддерживаются следующие функции:<br>
                            + - * / - арифметические операторы<br>
                            |x| или abs(x) - модуль x<br>
                            [x] или floor(x) - целая часть x<br>
                            log(base, x) - логарифм x по основанию base<br>
                            ln(x) - натуральный логарифм x<br>
                            ?(a, b, c) - тернарный оператор, если a > 0 возвращает b, иначе - c<br>
                            {a,b} - точка с координатами a, b. Последовательность точек преобразуется в многочлен.<br>
                            () - скобки<br>
                            (f(x))' - производная по x<br>
                            Остальные функции можно посмотреть и изменить в поле 'Default expressions'<br>
                            Любая последовательность букв, для которой не найдено соответствие будет расцениватьсчя как переменная.<br>
                            Значение переменной по-умолчанию - 0. Оно может быть изменено в поле слева от графика<br>
                            Если выражение успешно прочиано, его упрощенная версия появится под полем ввода и будет построен график.<br>
                            Цвет графика можно изменить нажав на круг рядом с полем ввода.<br>
                            Если не удалось прочитать выражение, под полем ввода будет выведено сообщение об ошибке.<br>
                            Возможные ошибки и способы их решения:<br>
                            Некорректные скобки,<br>
                            Неверные аргументы, Неверное количество аргументов - расставьте больше скобок,<br>
                            Некорректное равенство - в левой часи равенства должно стоять имя переменной и ничего больше,<br>
                            Пропущен оператор.<br>
                            График показывает примерное значение функции в точке<br>
                            Для получения более точного значения, установите значение переменной x в поле слева от графика<br>
                            Двойнок клик по графику переносит камеру в 0,0<br>
                            Тройной клик - устанавливает вид по-умолчанию<br>
                            Кнопка обновить под выражениями обновляет все выражения<br>
                            После изменений настроек или значений переменных необходимо обновить выражения<br>
                            Кнопка reload под графиком перезагружает элемент и заново загружает графики<br>

                        </p>
        </section>

        <script src="app.js"></script>
    </div>

</body>
</html>